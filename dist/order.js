import{productCart}from"./data/cartObject.js";import{getProducts,loadProducts}from"./products.js";import{formatCurrency}from"./utils/money.js";import{renderPaymentSummary}from"./payment-summary.js";export function checkout(){getProducts(renderOrderSummary)}function renderOrderSummary(r){let e,t,a="",n=0,d=0;if(0!==productCart.cart.length){productCart.cart.forEach((c=>{t=c.productName,r.forEach((r=>{r.name===t&&(e=r)})),n=c.quantity*c.priceCents,d+=n,a+=`\n         <div class="ordered-products__product flex">\n          <div class="products-details ordered-flex">\n            <div class="product__image">\n              <img\n                src="${e.image.thumbnail}"\n                alt="product thumbnail"\n                width="45px"\n              />\n            </div>\n            <div class="left-side">\n              <p class="product-description">${e.name}</p>\n              <span class="quantity-mutiple">\n              ${c.quantity}x</span>\n              <span class="price">@ &dollar;${formatCurrency(c.priceCents)}</span>\n            </div>\n          </div>\n\n          <p class="ordered-price">&dollar;${formatCurrency(n)}</p>\n        </div>\n         \n        `})),a+=function(r){let e=`\n    <div class="flex">\n            <div class="left-side">\n              <p>Order Total</p>\n            </div>\n            <div class="right-side">\n              <h3>&dollar;${formatCurrency(r)}</h3>\n            </div>\n          </div>\n    `;return e}(d),document.querySelector(".js-order-summary").innerHTML=a}}function startNewOrder(){productCart.cart.splice(0,productCart.cart.length),productCart.saveToStorage()}checkout(),document.querySelector(".js-new-order").addEventListener("click",(()=>{document.querySelector(".js-popup").classList.remove("appear"),document.querySelector(".js-popup").classList.add("disappear"),document.querySelector(".js-overlay").classList.remove("overlay-appear"),document.querySelector(".js-overlay").classList.add("overlay-disappear"),startNewOrder(),renderPaymentSummary(),loadProducts()}));//# sourceMappingURL=order.js.map
